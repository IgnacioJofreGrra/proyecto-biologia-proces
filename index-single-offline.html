<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trivia: Salud Cardiovascular (Archivo Único Offline)</title>
    <style>
    :root {
        --color-primario: #005a9c; --color-secundario: #d4002c; --color-fondo: #f4f7f6;
        --color-texto: #333; --color-blanco: #fff; --color-correcto: #28a745; --color-incorrecto: #dc3545;
    }
    body { font-family: Arial, Helvetica, sans-serif; background: var(--color-fondo); color: var(--color-texto); margin:0; padding:10px; min-height:100vh; display:flex; justify-content:center; align-items:center; box-sizing:border-box; }
    h1,h2,h3{ color:var(--color-primario); margin-bottom:.5em; }
    h1{ font-size:2.5rem; text-align:center; border-bottom:3px solid var(--color-secundario); padding-bottom:10px; }
    h2{ font-size:2rem; color:var(--color-secundario); }
    ul{ list-style:none; padding-left:0; }
    li{ font-size:1.2rem; position:relative; padding-left:30px; margin-bottom:15px; line-height:1.5; }
    li::before{ content:'❤️'; position:absolute; left:0; top:4px; font-size:1.1rem; }
    .slideshow-container{ position:relative; background:var(--color-blanco); border-radius:15px; box-shadow:0 10px 30px rgba(0,0,0,.1); width:90%; max-width:900px; margin:20px auto; padding:40px; box-sizing:border-box; min-height:480px; }
    .slide{ display:none; animation:fadeIn .8s ease-in-out; }
    .slide img{ width:100%; max-height:250px; object-fit:contain; border-radius:10px; margin-top:15px; box-shadow:0 4px 15px rgba(0,0,0,.05); background:#f0f4f8; padding:10px; }
    @keyframes fadeIn{ from{opacity:0; transform:translateY(10px)} to{opacity:1; transform:translateY(0)} }
    .nav-btn{ position:absolute; top:50%; transform:translateY(-50%); background:var(--color-primario); color:#fff; border:none; border-radius:50%; width:50px; height:50px; font-size:1.5rem; font-weight:bold; cursor:pointer; transition:.3s; z-index:100; box-shadow:0 4px 10px rgba(0,0,0,.15) }
    .nav-btn:hover{ background:var(--color-secundario); transform:translateY(-50%) scale(1.1) }
    .prev-btn{ left:-25px } .next-btn{ right:-25px }
    .slide-counter{ position:absolute; top:15px; right:25px; font-size:1rem; color:#888; font-weight:bold; }
    .toolbar{ position:absolute; top:15px; left:25px; display:flex; gap:8px; align-items:center; }
    .btn{ background:#e9eef3; color:#0f172a; border:1px solid #cbd5e1; border-radius:8px; padding:6px 10px; font-size:.9rem; cursor:pointer; }
    .btn:hover{ background:#dde6f0 }
    .tip{ font-size:.85rem; color:#475569 }
    .trivia-question h3{ font-size:1.1rem; color:#555; font-weight:bold; margin-bottom:15px; }
    .question-text{ font-size:1.4rem; font-weight:700; margin-bottom:25px; line-height:1.4 }
    .answer-options{ display:flex; flex-direction:column; gap:15px }
    .option{ background:#f0f4f8; border:2px solid #d1d9e0; border-radius:10px; padding:15px 20px; font-size:1.1rem; cursor:pointer; transition:.3s; position:relative; padding-left:50px }
    .option::before{ content:''; position:absolute; left:15px; top:50%; transform:translateY(-50%); width:24px; height:24px; border:2px solid var(--color-primario); border-radius:50%; background:#fff }
    .option:hover{ background:#e1eaf2; border-color:var(--color-primario) }
    .option.correct{ background:#e9f7ec; border-color:var(--color-correcto); color:#1a4d23; font-weight:bold }
    .option.correct::before{ background:var(--color-correcto); border-color:var(--color-correcto); content:'✔'; color:#fff; text-align:center; line-height:24px }
    .option.incorrect{ background:#fdecea; border-color:var(--color-incorrecto); color:#5d171e; font-weight:bold }
    .option.incorrect::before{ background:var(--color-incorrecto); border-color:var(--color-incorrecto); content:'✖'; color:#fff; text-align:center; line-height:24px }
    .feedback{ display:none; margin-top:20px; padding:15px; border-radius:10px; font-size:1.1rem; line-height:1.5; border-left:5px solid }
    .feedback.show{ display:block; animation:fadeIn .5s }
    .feedback.correct{ background:#e9f7ec; border-color:var(--color-correcto) }
    .feedback.incorrect{ background:#fdecea; border-color:var(--color-incorrecto) }
    @media (max-width:768px){
        body{ padding:0 }
        .slideshow-container{ width:100%; margin:0; padding:40px 20px; min-height:100vh; border-radius:0; box-shadow:none; overflow-y:auto }
        h1{ font-size:1.8rem } h2{ font-size:1.5rem } li,.option{ font-size:1rem } .question-text{ font-size:1.2rem } .slide img{ max-height:200px }
        .nav-btn{ width:40px; height:40px; font-size:1.2rem } .prev-btn{ left:5px } .next-btn{ right:5px }
    }
    </style>
</head>
<body>

    <div class="slideshow-container">
        <div class="toolbar">
            <button class="btn" id="load-images-btn">Cargar imágenes (opcional)</button>
            <span class="tip">Archivo único 100% offline; si cargas las imágenes locales, se verán igual que el original.</span>
            <input type="file" id="file-input" accept="image/*" multiple style="display:none">
        </div>

        <div class="slide-counter" id="slide-counter"></div>

        <div class="slide">
            <h1>Trivia: ¡Un Vistazo al Corazón de Uruguay!</h1>
            <h2 style="text-align:center;color:var(--color-texto);font-weight:400;font-size:1.5rem">Presentación de datos clave</h2>
            <p style="font-size:1.2rem;text-align:center;margin-top:30px">¡Hola! A continuación, veremos 5 datos clave sobre la salud cardiovascular.<br><br>¡Presten mucha atención! Luego, usaremos esa información para jugar una trivia.</p>
        </div>

        <div class="slide">
            <h2>El Problema N°1 en el Mundo</h2>
            <ul>
                <li>Las enfermedades cardiovasculares (ECV) son la <strong>principal causa de mortalidad</strong> en todo el planeta.</li>
                <li>Se calcula que en 2022, el <strong>32%</strong> de todas las muertes registradas en el mundo (casi un tercio) fueron consecuencia de una ECV.</li>
            </ul>
            <img id="img-global_mortality" alt="Gráfico de porcentaje de mortalidad global por ECV" src="data:image/svg+xml;utf8,<?xml version='1.0' encoding='UTF-8'?><svg xmlns='http://www.w3.org/2000/svg' width='800' height='400'><rect width='100%' height='100%' fill='%23f0f4f8'/><text x='50%' y='45%' text-anchor='middle' font-family='Arial' font-size='28' fill='%23005a9c'>Imagen: Global Mortality 32%</text><text x='50%' y='65%' text-anchor='middle' font-family='Arial' font-size='14' fill='%23667'>Cargar para ver diseño original</text></svg>">
        </div>

        <div class="slide">
            <h2>La Culpable Silenciosa</h2>
            <ul>
                <li><strong>¿Qué es la Aterosclerosis?</strong> Es la principal culpable detrás de la mayoría de las ECV.</li>
                <li>Es un <strong>proceso crónico, progresivo y silencioso</strong> que consiste en la acumulación de depósitos de grasa y colesterol (la "placa") en el revestimiento interno de las arterias.</li>
            </ul>
            <img id="img-atherosclerosis" alt="Arteria sana vs arteria con placa" src="data:image/svg+xml;utf8,<?xml version='1.0' encoding='UTF-8'?><svg xmlns='http://www.w3.org/2000/svg' width='800' height='400'><rect width='100%' height='100%' fill='%23f0f4f8'/><text x='50%' y='45%' text-anchor='middle' font-family='Arial' font-size='24' fill='%23d4002c'>Imagen: Aterosclerosis</text><text x='50%' y='65%' text-anchor='middle' font-family='Arial' font-size='14' fill='%23667'>Cargar para ver diseño original</text></svg>">
        </div>

        <div class="slide">
            <h2>Nuestros Hábitos y Riesgos (1/2)</h2>
            <ul>
                <li><strong>La "Brecha de Conocimiento":</strong></li>
                <li>¡Es alarmante! <strong>Casi la mitad de las personas que tienen hipertensión o diabetes... ¡no saben que las padecen!</strong><br>Además, muy pocos de los que sí lo saben logran tenerla bien controlada.</li>
            </ul>
            <img id="img-knowledge_gap" alt="Falta de conocimiento sobre diagnóstico" src="data:image/svg+xml;utf8,<?xml version='1.0' encoding='UTF-8'?><svg xmlns='http://www.w3.org/2000/svg' width='800' height='400'><rect width='100%' height='100%' fill='%23f0f4f8'/><text x='50%' y='45%' text-anchor='middle' font-family='Arial' font-size='24' fill='%23005a9c'>Imagen: Brecha de conocimiento</text><text x='50%' y='65%' text-anchor='middle' font-family='Arial' font-size='14' fill='%23667'>Cargar para ver diseño original</text></svg>">
        </div>

        <div class="slide">
            <h2>Nuestros Hábitos y Riesgos (2/2)</h2>
            <ul>
                <li><strong>Consumo de Sal:</strong> El consumo promedio en Uruguay es de <strong>9.7 gramos por día</strong>. ¡Casi el doble de la recomendación máxima de 5 gramos de la OMS!</li>
                <li><strong>Sedentarismo Juvenil:</strong> <strong>7 de cada 10 adolescentes</strong> uruguayos (de 13 a 15 años) no realizan la actividad física mínima recomendada.</li>
            </ul>
            <img id="img-salt_sedentary" alt="Consumo de sal y sedentarismo juvenil" src="data:image/svg+xml;utf8,<?xml version='1.0' encoding='UTF-8'?><svg xmlns='http://www.w3.org/2000/svg' width='800' height='400'><rect width='100%' height='100%' fill='%23f0f4f8'/><text x='50%' y='45%' text-anchor='middle' font-family='Arial' font-size='24' fill='%23d4002c'>Imagen: Sal y Sedentarismo</text><text x='50%' y='65%' text-anchor='middle' font-family='Arial' font-size='14' fill='%23667'>Cargar para ver diseño original</text></svg>">
        </div>

        <div class="slide">
            <h2>El Equipo de Respuesta</h2>
            <ul>
                <li><strong>Fondo Nacional de Recursos (FNR):</strong> Tiene un programa específico de prevención cardiovascular.</li>
                <li>Su enfoque es la <strong>prevención secundaria</strong>: seguimiento de pacientes ya diagnosticados con enfermedad coronaria.</li>
            </ul>
            <img id="img-fnr_focus" alt="FNR - Prevención secundaria" src="data:image/svg+xml;utf8,<?xml version='1.0' encoding='UTF-8'?><svg xmlns='http://www.w3.org/2000/svg' width='800' height='400'><rect width='100%' height='100%' fill='%23f0f4f8'/><text x='50%' y='45%' text-anchor='middle' font-family='Arial' font-size='24' fill='%23005a9c'>Imagen: FNR - Enfoque</text><text x='50%' y='65%' text-anchor='middle' font-family='Arial' font-size='14' fill='%23667'>Cargar para ver diseño original</text></svg>">
        </div>

        <div class="slide">
            <h1 style="margin-top:100px">¡Comienza la Trivia!</h1>
            <h2 style="text-align:center;color:var(--color-texto);font-weight:400;font-size:1.5rem">¡Con toda la información que acabamos de ver, vamos a jugar!</h2>
        </div>

        <!-- Preguntas -->
        <div class="slide trivia-question">
            <h3>Pregunta 1/6</h3>
            <p class="question-text">Según vimos, ¿qué porcentaje aproximado de todas las muertes en el mundo en 2022 se debió a ECV?</p>
            <div class="answer-options">
                <div class="option" data-correct="false" data-rationale="Esta cifra es muy baja. Mencionamos que era la principal causa global.">15%</div>
                <div class="option" data-correct="true" data-rationale="¡Correcto! Mencionamos que casi un tercio (32%) de todas las muertes globales fueron por ECV.">32%</div>
                <div class="option" data-correct="false" data-rationale="Esa cifra no la mencionamos para el dato mundial.">23.3%</div>
                <div class="option" data-correct="false" data-rationale="¡Es un número muy alto! Pero la cifra que vimos era un poco menor.">50%</div>
            </div>
            <div class="feedback"><p class="rationale-text"></p></div>
        </div>

        <div class="slide trivia-question">
            <h3>Pregunta 2/6</h3>
            <p class="question-text">¿Qué es la aterosclerosis, según lo que explicamos?</p>
            <div class="answer-options">
                <div class="option" data-correct="false" data-rationale="No, eso sería un ACV. La aterosclerosis la describimos como un proceso crónico y silencioso.">Un proceso agudo que consiste en la rotura de un vaso sanguíneo en el cerebro.</div>
                <div class="option" data-correct="false" data-rationale="No mencionamos el ejercicio. Hablamos de acumulación de algo en las arterias.">Un engrosamiento del músculo cardíaco debido al exceso de ejercicio.</div>
                <div class="option" data-correct="true" data-rationale="¡Exacto! Esa es la definición que dimos: un proceso crónico y silencioso de acumulación de 'placa'.">Un proceso crónico de acumulación de depósitos de grasa y colesterol (placa) en el interior de las arterias.</div>
                <div class="option" data-correct="false" data-rationale="Esa es la definición de HTA, no de aterosclerosis.">La fuerza excesiva y constante de la sangre contra las paredes arteriales.</div>
            </div>
            <div class="feedback"><p class="rationale-text"></p></div>
        </div>

        <div class="slide trivia-question">
            <h3>Pregunta 3/6</h3>
            <p class="question-text">¿Cuál es la "brecha de conocimiento" que identificamos como crítica en Uruguay?</p>
            <div class="answer-options">
                <div class="option" data-correct="false" data-rationale="Si bien es un problema, la 'brecha' se refería al diagnóstico y manejo.">La falta de médicos especialistas en cardiología en el norte del país.</div>
                <div class="option" data-correct="false" data-rationale="Hablamos del alto consumo de sal, pero la 'brecha' se refería al diagnóstico.">La falta de leyes que regulen el consumo de sal.</div>
                <div class="option" data-correct="true" data-rationale="¡Exacto! Mencionamos que era alarmante que casi la mitad no supiera su diagnóstico.">Que casi la mitad de las personas con HTA o diabetes no saben que tienen la enfermedad.</div>
                <div class="option" data-correct="false" data-rationale="El problema es que muchos no saben que tienen la enfermedad y no la controlan.">Que la población no sabe qué es una ECV, pero sí sabe cómo tratarla.</div>
            </div>
            <div class="feedback"><p class="rationale-text"></p></div>
        </div>

        <div class="slide trivia-question">
            <h3>Pregunta 4/6</h3>
            <p class="question-text">¿Cuánto es el consumo promedio de sal por día de la población uruguaya?</p>
            <div class="answer-options">
                <div class="option" data-correct="false" data-rationale="¡No! Eso es lo recomendado como MÁXIMO; dijimos que consumimos casi el doble.">5 gramos (la recomendación de la OMS).</div>
                <div class="option" data-correct="false" data-rationale="Ojalá, pero mencionamos que el consumo era muy elevado.">Menos de 3 gramos.</div>
                <div class="option" data-correct="true" data-rationale="¡Correcto! Dijimos 9.7 gramos, casi el doble de lo recomendado.">9.7 gramos (casi el doble de lo recomendado).</div>
                <div class="option" data-correct="false" data-rationale="Sí se mencionó la cifra exacta.">No se mencionó la cifra exacta.</div>
            </div>
            <div class="feedback"><p class="rationale-text"></p></div>
        </div>

        <div class="slide trivia-question">
            <h3>Pregunta 5/6</h3>
            <p class="question-text">¿Qué dato alarmante mencionamos sobre la actividad física en los adolescentes uruguayos?</p>
            <div class="answer-options">
                <div class="option" data-correct="true" data-rationale="Usamos 7 de cada 10 para ilustrar el alto sedentarismo.">7 de cada 10 no realizan la actividad física mínima recomendada.</div>
                <div class="option" data-correct="false" data-rationale="El dato era alarmante, sugiere alto sedentarismo.">La mayoría prefiere los deportes de equipo a las pantallas.</div>
                <div class="option" data-correct="false" data-rationale="Era un porcentaje mucho mayor.">Solo el 10% es sedentario.</div>
                <div class="option" data-correct="false" data-rationale="Al contrario: la gran mayoría no cumple.">Todos los adolescentes cumplen con la actividad mínima.</div>
            </div>
            <div class="feedback"><p class="rationale-text"></p></div>
        </div>

        <div class="slide trivia-question">
            <h3>Pregunta 6/6</h3>
            <p class="question-text">¿En qué se enfoca el Programa de Prevención Cardiovascular del Fondo Nacional de Recursos (FNR)?</p>
            <div class="answer-options">
                <div class="option" data-correct="false" data-rationale="No es para toda la población: se enfoca en un grupo.">En la prevención primaria para toda la población uruguaya.</div>
                <div class="option" data-correct="true" data-rationale="Prevención secundaria: pacientes ya diagnosticados.">En pacientes que ya han sido diagnosticados con enfermedad coronaria (prevención secundaria).</div>
                <div class="option" data-correct="false" data-rationale="Eso sería prevención primaria.">En la promoción de la salud cardiovascular en escuelas.</div>
                <div class="option" data-correct="false" data-rationale="No mencionamos subsidios de alimentos.">En subsidiar el consumo de frutas y verduras.</div>
            </div>
            <div class="feedback"><p class="rationale-text"></p></div>
        </div>

        <div class="slide">
            <h1 style="margin-top:100px">¡Fin de la Trivia!</h1>
            <h2 style="text-align:center;color:var(--color-texto);font-weight:400;font-size:1.5rem">¡Excelente trabajo!</h2>
            <p style="font-size:1.2rem;text-align:center;margin-top:30px">Espero que esta actividad les haya servido para aprender más sobre la importancia de cuidar nuestra salud.<br><br>¡Gracias por participar!</p>
        </div>

        <button class="nav-btn prev-btn" id="prev-btn">❮</button>
        <button class="nav-btn next-btn" id="next-btn">❯</button>
    </div>

    <script>
    // Navegación + Trivia
    document.addEventListener('DOMContentLoaded', () => {
        let currentSlide = 0;
        const slides = document.querySelectorAll('.slide');
        const totalSlides = slides.length;
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const counterEl = document.getElementById('slide-counter');

        function showSlide(n){
            slides.forEach(s=>s.style.display='none');
            currentSlide = (n + totalSlides) % totalSlides;
            slides[currentSlide].style.display='block';
            counterEl.textContent = `${currentSlide+1} / ${totalSlides}`;
            checkTriviaAndNav();
        }
        function checkTriviaAndNav(){
            if (slides[currentSlide].classList.contains('trivia-question') && !slides[currentSlide].dataset.answered){
                nextBtn.style.display='none';
            } else if (currentSlide === totalSlides - 1){
                nextBtn.style.display='none';
            } else {
                nextBtn.style.display='block';
            }
            prevBtn.style.display = (currentSlide === 0) ? 'none' : 'block';
        }
        prevBtn.addEventListener('click', ()=>showSlide(currentSlide-1));
        nextBtn.addEventListener('click', ()=>showSlide(currentSlide+1));

        document.querySelectorAll('.option').forEach(option=>{
            option.addEventListener('click',()=>{
                const slide = option.closest('.slide');
                if (slide.dataset.answered==='true') return;
                slide.dataset.answered='true';
                const all = slide.querySelectorAll('.option');
                all.forEach(o=>o.style.pointerEvents='none');
                const isCorrect = option.dataset.correct==='true';
                const feedbackEl = slide.querySelector('.feedback');
                const rationaleEl = slide.querySelector('.rationale-text');
                rationaleEl.textContent = option.dataset.rationale || '';
                feedbackEl.classList.add('show', isCorrect? 'correct':'incorrect');
                option.classList.add(isCorrect? 'correct':'incorrect');
                if(!isCorrect){ const right = slide.querySelector('[data-correct="true"]'); if(right) right.classList.add('correct'); }
                if(currentSlide !== totalSlides-1) nextBtn.style.display='block';
            });
        });

        // Carga opcional de imágenes locales -> data URL
        const mapping = {
            'global_mortality': 'img-global_mortality',
            'atherosclerosis': 'img-atherosclerosis',
            'knowledge_gap': 'img-knowledge_gap',
            'salt_sedentary': 'img-salt_sedentary',
            'fnr_focus': 'img-fnr_focus'
        };
        const input = document.getElementById('file-input');
        const btn = document.getElementById('load-images-btn');
        btn.addEventListener('click', ()=> input.click());
        input.addEventListener('change', async (ev)=>{
            const files = Array.from(ev.target.files || []);
            for (const f of files){
                const name = f.name.toLowerCase();
                let key = Object.keys(mapping).find(k => name.includes(k));
                if(!key){
                    // heurística: por orden si no coincide el nombre
                    key = Object.keys(mapping)[files.indexOf(f)] || null;
                }
                if(!key) continue;
                const imgEl = document.getElementById(mapping[key]);
                const dataUrl = await new Promise(res=>{ const r=new FileReader(); r.onload=()=>res(r.result); r.readAsDataURL(f); });
                imgEl.src = dataUrl;
            }
            ev.target.value = '';
        });

        showSlide(currentSlide);
    });
    </script>
</body>
</html>
